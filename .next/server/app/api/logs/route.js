"use strict";(()=>{var e={};e.id=333,e.ids=[333],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},2453:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>S,patchFetch:()=>x,requestAsyncStorage:()=>w,routeModule:()=>h,serverHooks:()=>y,staticGenerationAsyncStorage:()=>f});var r={};s.r(r),s.d(r,{GET:()=>d,POST:()=>m});var n=s(9303),o=s(8716),a=s(670),i=s(2048),p=s(5315),u=s.n(p);let l=u().join(process.cwd(),"public","logs"),c=u().join(l,"login_attempts.json");async function g(){try{await i.promises.mkdir(l,{recursive:!0});try{await i.promises.access(c)}catch{await i.promises.writeFile(c,JSON.stringify([],null,2))}}catch(e){console.error("Error ensuring logs file:",e)}}async function d(){try{await g();let e=await i.promises.readFile(c,"utf-8"),t=JSON.parse(e);return new Response(JSON.stringify({success:!0,totalAttempts:t.length,logs:t.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error reading logs:",e),new Response(JSON.stringify({success:!1,error:e.message}),{status:500,headers:{"Content-Type":"application/json"}})}}async function m(e){try{await g();let t=await e.json();if(!t.timestamp||!t.name)return new Response(JSON.stringify({success:!1,error:"Missing required fields"}),{status:400,headers:{"Content-Type":"application/json"}});let s=e.headers.get("x-forwarded-for")||e.headers.get("x-real-ip")||"unknown",r={...t,ip:s,userAgent:e.headers.get("user-agent")||"unknown",receivedAt:new Date().toISOString()},n=await i.promises.readFile(c,"utf-8"),o=JSON.parse(n);return o.push(r),o.length>1e3&&o.shift(),await i.promises.writeFile(c,JSON.stringify(o,null,2)),console.log("âœ… Login attempt logged:",r),new Response(JSON.stringify({success:!0,message:"Log recorded",totalAttempts:o.length}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error saving log:",e),new Response(JSON.stringify({success:!1,error:e.message}),{status:500,headers:{"Content-Type":"application/json"}})}}let h=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/logs/route",pathname:"/api/logs",filename:"route",bundlePath:"app/api/logs/route"},resolvedPagePath:"D:\\SECRET PROJECT\\app\\api\\logs\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:w,staticGenerationAsyncStorage:f,serverHooks:y}=h,S="/api/logs/route";function x(){return(0,a.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:f})}},9303:(e,t,s)=>{e.exports=s(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948],()=>s(2453));module.exports=r})();